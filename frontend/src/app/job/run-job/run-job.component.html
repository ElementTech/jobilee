
<p-dataView #dv [value]="jobs | async" [paginator]="true" [rows]="27" filterBy="name" layout="list"
[sortField]="sortField" [sortOrder]="sortOrder" layout="grid" [loading]="loading">
<ng-template pTemplate="header">
    <div class="flex flex-column md:flex-row md:justify-content-between">
        <p-dropdown [options]="sortOptions" [(ngModel)]="sortKey" placeholder="Sort By" (onChange)="onSortChange($event)" styleClass="mb-2 md:mb-0"></p-dropdown>
        <span class="p-input-icon-left mb-2 md:mb-0">
            <i class="pi pi-search"></i>
            <input type="search" pInputText placeholder="Search by Name" (input)="dv.filter($event.target.value)">
        </span>
        <p-dataViewLayoutOptions></p-dataViewLayoutOptions>
    </div>
</ng-template>
<ng-template let-job pTemplate="gridItem">
  <div class="col-12 md:col-2">
      <div class="job-grid-item card">

          <div class="job-grid-item-content">
              <!-- <img [src]="'assets/showcase/images/demo/job/' + job.image" [alt]="job.name"/> -->
              <div class="job-name">{{job.name}}</div>
              <!-- <div class="job-description">{{job.description}}</div> -->
              <!-- <p-rating [ngModel]="job.rating" [readonly]="true" [cancel]="false"></p-rating> -->
          </div>
          <div class="job-grid-item-bottom">
              <button pButton pRipple type="button" (click)="jobDetails(job._id)"  icon="pi pi-history" class="p-button-rounded p-button-outlined p-button-secondary"></button>
              <button pButton pRipple type="button"  (click)="runJob(job._id)" icon="pi pi-play" class="p-button-rounded p-button-outlined"></button>
          </div>
      </div>
  </div>
</ng-template>
<ng-template let-job pTemplate="listItem">
    <div class="col-12">
        <div class="job-list-item">
            <!-- <img [src]="'assets/showcase/images/demo/job/' + job.image" [alt]="job.name"/> -->
            <div class="job-list-detail">
                <div class="job-name">{{job.name}}</div>
                <!-- <div class="job-description">{{job.description}}</div> -->
                <!-- <p-rating [ngModel]="job.rating" [readonly]="true" [cancel]="false"></p-rating> -->
            </div>
            <div class="p-buttonset">
                <!-- <span class="job-price">${{job.price}}</span> -->
               <p-button  icon="pi pi-history" (click)="jobDetails(job._id)" class="pr-2" styleClass=" p-button-secondary" label="History"></p-button> 
               <p-button  icon="pi pi-play" (click)="runJob(job._id)" label="Run"></p-button>   <!-- [disabled]="job.inventoryStatus === 'OUTOFSTOCK'" -->
                <!-- <span [class]="'job-badge status-' + job.inventoryStatus.toLowerCase()">{{job.inventoryStatus}}</span> -->
            </div>
        </div>
    </div>
</ng-template>

</p-dataView>