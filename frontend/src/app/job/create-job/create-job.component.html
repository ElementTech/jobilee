<div>
  <p-fieldset legend="Create Job" [toggleable]="false">
    <form (ngSubmit)="onSubmit()">
      <div class="grid">
        <div class="col-6">
          <h5>Name</h5>
          <input pInputText class="min-w-full" type="text" id="name" required [(ngModel)]="job.name" name="name" placeholder="myapi">
        </div>
    
        <div class="col-6">
          <h5>Integration</h5>
          <p-dropdown name="integration"  class="min-w-max" [options]="integrations | async" [(ngModel)]="job.integration" optionLabel="name"></p-dropdown>
        </div>
        </div>
        <p-fieldset legend="Parameters" [toggleable]="false">
          <div class="grid">
            <json-editor class="col" [options]="editorOptions" [(ngModel)]="job.parameters" [ngModelOptions]=" 
            {standalone: true}"></json-editor>
            <p-divider layout="vertical">  <i class="pi pi-arrow-right"></i></p-divider>
            <div class="col">
              <p-scrollPanel [style]="{width: '100%', height: '400px'}">
                <div class="grid">
                  <div *ngFor="let param of job.parameters" class="col-6">
                    <p-divider align="left" type="dashed">
                      <div class="inline-flex align-items-center">
                        <ng-container>
                          <i *ngIf="param.type == 'text'" class="pi pi-book mr-2"></i>
                          <i *ngIf="param.type == 'choice'" class="pi pi-qrcode mr-2"></i>
                          <i *ngIf="param.type == 'multi-choice'" class="pi pi-check-square mr-2"></i>
                          <b>{{param.name}}</b>
                        </ng-container>
                      </div>
                    </p-divider>
                    <input *ngIf="param.type == 'text'" class="min-w-full" type="text" pInputText [value]="param.default ? param.default : ''" />
                    <p-dropdown  *ngIf="param.type == 'choice'" appendTo="body" placeholder="{{param.choices[0]}}" [options]="param.choices"></p-dropdown>
                    <p-multiSelect *ngIf="param.type == 'multi-choice'" defaultLabel="{{param.choices}}" placeho [options]="param.choices"></p-multiSelect>
                  </div>
                </div>
  
                
            

         
            
              </p-scrollPanel>
            </div>
          </div>
        </p-fieldset>
  
        <p-button type="submit" label="Submit" icon="pi pi-check" class="fixed" styleClass="p-button-lg" style="bottom:2rem;right:2rem;z-index: 1000;"></p-button>
    </form>
  </p-fieldset>
</div>
